{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-e0ab0509e3fc24a5.js","src/sprites/Ball.ts","src/sprites/Paddle.ts","src/Collision.ts","node_modules/@parcel/runtime-js/lib/runtime-a3efe76b4a77ff6c.js","node_modules/@parcel/runtime-js/lib/runtime-b8551af40b42d8a7.js","node_modules/@parcel/runtime-js/lib/runtime-65b2e65ed293fcce.js","node_modules/@parcel/runtime-js/lib/runtime-f5c65d2b2a87317e.js","node_modules/@parcel/runtime-js/lib/runtime-3677c124ebdb4844.js","node_modules/@parcel/runtime-js/lib/runtime-1b9b18b778ecab02.js","node_modules/@parcel/runtime-js/lib/runtime-a0f6619e715a6d4c.js","src/setup.ts","src/sprites/Brick.ts","src/index.ts","src/view/CanvasView.ts","src/helpers.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"d3X8m\\\":\\\"index.2f05f87a.js\\\",\\\"kJeTk\\\":\\\"ball.94fca77e.png\\\",\\\"cJghG\\\":\\\"paddle.59785228.png\\\",\\\"1TzLi\\\":\\\"brick-red.15768ee1.png\\\",\\\"6Avpx\\\":\\\"brick-blue.2842147b.png\\\",\\\"7qDxN\\\":\\\"brick-green.559eaa27.png\\\",\\\"cFyi1\\\":\\\"brick-yellow.adc6599c.png\\\",\\\"iF8jg\\\":\\\"brick-purple.dccf6a30.png\\\"}\"));","import { Vector } from \"../types\";\n\nexport class Ball {\n  speed: Vector;\n  private ballImage: HTMLImageElement = new Image();\n\n  constructor(\n    speed: number,\n    private ballSize: number,\n    private position: Vector,\n    image: string,\n  ) {\n    this.speed = {\n      x: speed,\n      y: -speed,\n    },\n    this.ballSize = ballSize;\n    this.position = position;\n    this.ballImage.src = image;\n  }\n\n  // Getters\n  get width(): number {\n    return this.ballSize;\n  }\n\n  get height(): number {\n    return this.ballSize;\n  }\n\n  get pos(): Vector {\n    return this.position;\n  }\n\n  get image(): HTMLImageElement {\n    return this.ballImage;\n  }\n\n  // Methods\n  changeYDirection(): void {\n    this.speed.y = -this.speed.y;\n  }\n\n  changeXDirection(): void {\n    this.speed.x = -this.speed.x;\n  }\n\n  moveBall(): void {\n    this.pos.x += this.speed.x;\n    this.pos.y += this.speed.y;\n  }\n}\n","import { Vector } from \"../types\";\n\nexport class Paddle {\n  private PaddleImage: HTMLImageElement = new Image();\n  private moveLeft: boolean;\n  private moveRight: boolean;\n\n  constructor(\n    private speed: number,\n    private paddleWidth: number,\n    private paddleHeight: number,\n    private position: Vector,\n    image: string\n  ) {\n    this.speed = speed;\n    this.paddleWidth = paddleWidth;\n    this.paddleHeight = paddleHeight;\n    this.position = position;\n    this.moveLeft = false;\n    this.moveRight = false;\n    this.PaddleImage.src = image;\n\n    // Event listeners\n    document.addEventListener('keydown', this.handleKeyDown);\n    document.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  //  Getters\n  get width(): number {\n    return this.paddleWidth;\n  }\n\n  get height(): number {\n    return this.paddleHeight;\n  }\n\n  get pos(): Vector {\n    return this.position;\n  }\n\n  get image(): HTMLImageElement {\n    return this.PaddleImage;\n  }\n\n  get isMovingLeft(): boolean {\n    return this.moveLeft;\n  }\n\n  get isMovineRight(): boolean {\n    return this.moveRight;\n  }\n\n  movePaddle(): void {\n    if (this.moveLeft) this.pos.x -= this.speed;\n    if (this.moveRight) this.pos.x += this.speed;\n  }\n\n  handleKeyUp = (e: KeyboardEvent): void => {\n    if (e.code === \"ArrowLeft\" || e.key === \"ArrowLeft\") this.moveLeft = false;\n    if (e.code === \"ArrowRight\" || e.key === \"ArrowRight\") this.moveRight = false;\n  }\n\n  handleKeyDown = (e: KeyboardEvent):void => {\n    if (e.code === \"ArrowLeft\" || e.key === \"ArrowLeft\") this.moveLeft = true;\n    if (e.code === \"ArrowRight\" || e.key === \"ArrowRight\") this.moveRight = true;\n  }\n}\n","import { Brick } from \"./sprites/Brick\";\nimport { Ball } from \"./sprites/Ball\";\nimport { Paddle } from \"./sprites/Paddle\";\nimport { CanvasView } from \"./view/CanvasView\";\n\nexport class Collision {\n  checkBallCollision(ball: Ball, paddle: Paddle, view: CanvasView): void {\n    // Check ball collision with paddle\n    if (\n      ball.pos.x + ball.width > paddle.pos.x && \n      ball.pos.x < paddle.pos.x + paddle.width &&\n      ball.pos.y + ball.height === paddle.pos.y\n    ) {\n      ball.changeYDirection();\n    }\n    // Check ball collision with walls\n    if (ball.pos.x > view.canvas.width - ball.width || ball.pos.x < 0) {\n      ball.changeXDirection();\n    }\n    // Ball movement Y constraints\n    if (ball.pos.y < 0) {\n      ball.changeYDirection();\n    }\n  }\n\n  isCollidingBrick(ball: Ball, brick: Brick): boolean {\n    if (\n      ball.pos.x < brick.pos.x + brick.width &&\n      ball.pos.x + ball.width > brick.pos.x &&\n      ball.pos.y < brick.pos.y + brick.height &&\n      ball.pos.y + ball.height > brick.pos.y\n    ) return true;\n    return false;\n  }\n\n  // check ball collision with bricks\n  isCollidingBricks(ball: Ball, bricks: Brick[]): boolean {\n    let colliding = false;\n\n    bricks.forEach((brick, i) => {\n      if (this.isCollidingBrick(ball, brick)) {\n        ball.changeYDirection();\n\n        if (brick.energy === 1) {\n          bricks.splice(i, 1);\n        } else {\n          brick.energy -= 1;\n        }\n        colliding = true;\n      }\n    });\n    return colliding;\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('d3X8m') + require('./helpers/bundle-manifest').resolve(\"kJeTk\");","module.exports = require('./helpers/bundle-url').getBundleURL('d3X8m') + require('./helpers/bundle-manifest').resolve(\"cJghG\");","module.exports = require('./helpers/bundle-url').getBundleURL('d3X8m') + require('./helpers/bundle-manifest').resolve(\"1TzLi\");","module.exports = require('./helpers/bundle-url').getBundleURL('d3X8m') + require('./helpers/bundle-manifest').resolve(\"6Avpx\");","module.exports = require('./helpers/bundle-url').getBundleURL('d3X8m') + require('./helpers/bundle-manifest').resolve(\"7qDxN\");","module.exports = require('./helpers/bundle-url').getBundleURL('d3X8m') + require('./helpers/bundle-manifest').resolve(\"cFyi1\");","module.exports = require('./helpers/bundle-url').getBundleURL('d3X8m') + require('./helpers/bundle-manifest').resolve(\"iF8jg\");","import RED_BRICK_IMAGE from './images/brick-red.png';\nimport BLUE_BRICK_IMAGE from './images/brick-blue.png';\nimport GREEN_BRICK_IMAGE from './images/brick-green.png';\nimport YELLOW_BRICK_IMAGE from './images/brick-yellow.png';\nimport PURPLE_BRICK_IMAGE from './images/brick-purple.png';\n\n// Grab the canvas element for calculating the brick width\n// depending on canvas width\nconst canvas: HTMLCanvasElement | null = document.querySelector('#playField');\n\n// Constants\nexport const STAGE_PADDING = 10;\nexport const STAGE_ROWS = 20;\nexport const STAGE_COLS = 10;\nexport const BRICK_PADDING = 5;\nexport const BRICK_WIDTH = canvas\n  ? Math.floor((canvas.width - STAGE_PADDING * 2) / STAGE_COLS) - BRICK_PADDING\n  : 100;\nexport const BRICK_HEIGHT = canvas\n  ? Math.floor((canvas.height - STAGE_PADDING * 2) / STAGE_ROWS) - BRICK_PADDING\n  : 30;\nexport const PADDLE_WIDTH = 150;\nexport const PADDLE_HEIGHT = 25;\nexport const PADDLE_STARTX = 450;\nexport const PADDLE_SPEED = 10;\nexport const BALL_SPEED = 5;\nexport const BALL_SIZE = 20;\nexport const BALL_STARTX = 500;\nexport const BALL_STARTY = 400;\n\nexport const BRICK_IMAGES: { [key: number]: string } = {\n  1: RED_BRICK_IMAGE,\n  2: GREEN_BRICK_IMAGE,\n  3: YELLOW_BRICK_IMAGE,\n  4: BLUE_BRICK_IMAGE,\n  5: PURPLE_BRICK_IMAGE\n};\n\nexport const BRICK_ENERGY: { [key: number]: number } = {\n  1: 1, // Red brick\n  2: 1, // Green brick\n  3: 2, // Yellow brick\n  4: 2, // Blue brick\n  5: 3 // Purple brick\n};\n\n// prettier-ignore\nexport const LEVEL = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 1, 1, 1, 1, 1, 1, 0, 0,\n  0, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n  0, 3, 3, 3, 3, 3, 3, 3, 3, 0,\n  0, 0, 4, 4, 4, 4, 4, 4, 0, 0, \n  0, 0, 5, 5, 0, 0, 5, 5, 0, 0,\n];","import { Vector } from \"../types\";\n\nexport class Brick {\n  private brickImage: HTMLImageElement = new Image();\n\n  constructor(\n    private brickWidth: number,\n    private brickHeight: number,\n    private position: Vector,\n    private brickEnergy: number,\n    image: string,\n  ) {\n    this.brickWidth = brickWidth;\n    this.brickHeight = brickHeight;\n    this.position = position;\n    this.brickEnergy = brickEnergy;\n    this.brickImage.src = image;\n  }\n  \n  // Getters\n  get width(): number {\n    return this.brickWidth;\n  }\n\n  get height(): number {\n    return this.brickHeight;\n  }\n\n  get image(): HTMLImageElement {\n    return this.brickImage;\n  }\n\n  get energy(): number {\n    return this.brickEnergy;\n  }\n\n  get pos(): Vector {\n    return this.position;\n  }\n\n  // Setters\n  set energy(energy: number) {\n    this.brickEnergy = energy;\n  }\n}\n","console.log(\"TS Loaded ðŸ‘¾\");\n\nimport { CanvasView } from \"./view/CanvasView\";\nimport { Ball } from \"./sprites/Ball\";\nimport { Brick } from \"./sprites/Brick\";\nimport { Paddle } from \"./sprites/Paddle\";\nimport { Collision } from \"./Collision\";\n\n//  Images\nimport BALL_IMAGE from './images/ball.png';\nimport BRICK_IMAGE from './images/brick.png';\nimport PADDLE_IMAGE from './images/paddle.png';\n\n// Level & Colours\nimport {\n  PADDLE_SPEED,\n  PADDLE_WIDTH,\n  PADDLE_HEIGHT,\n  PADDLE_STARTX,\n  BALL_SPEED,\n  BALL_SIZE,\n  BALL_STARTX,\n  BALL_STARTY\n} from './setup';\n\nimport { createBricks } from './helpers';\n\nlet gameOver = false;\nlet score = 0;\n\nfunction setGameOver(view: CanvasView) {\n  view.drawInfo('Game Over!');\n  gameOver = false;\n}\n\nfunction setGameWin(view: CanvasView) {\n  view.drawInfo('You Win');\n  gameOver = false;\n}\n\nfunction gameLoop(\n  view: CanvasView,\n  bricks: Brick[],\n  ball: Ball,\n  paddle: Paddle,\n  collision: Collision,\n) {\n  view.clear();\n  view.drawBricks(bricks);\n  view.drawSprite(paddle);\n  view.drawSprite(ball);\n  //  Move Ball\n  ball.moveBall();\n\n  // Move paddle + check it stays within the game canvas\n  if (\n    (paddle.isMovingLeft && paddle.pos.x > 0) ||\n    (paddle.isMovineRight && paddle.pos.x < view.canvas.width - paddle.width)\n  ) {\n    paddle.movePaddle();\n  }\n\n  collision.checkBallCollision(ball, paddle, view);\n  const collidingBrick = collision.isCollidingBricks(ball, bricks);\n\n  if (collidingBrick) {\n    score += 1;\n    view.drawScore(score);\n  }\n\n  // Game over when ball leaves game field\n  if (ball.pos.y > view.canvas.height) gameOver = true;\n  // If game won set gameover + display win\n  if (bricks.length === 0) return setGameWin(view);\n  // return if gameover and dont run requestAnimationFrame\n  if (gameOver) return setGameOver(view);\n  \n  requestAnimationFrame(() => gameLoop(view, bricks, ball, paddle, collision))\n}\n\nfunction startGame(view: CanvasView) {\n  // Reset displays\n  score = 0;\n  view.drawInfo('');\n  view.drawScore(0);\n  // Create collision instance\n  const collision = new Collision();\n  // Create all bricks\n  const bricks = createBricks();\n  // Create Ball\n  const ball = new Ball(\n    BALL_SPEED,\n    BALL_SIZE,\n    { x: BALL_STARTX, y: BALL_STARTY },\n    BALL_IMAGE,\n  )\n  // Create paddle\n  const paddle = new Paddle(\n    PADDLE_SPEED,\n    PADDLE_WIDTH,\n    PADDLE_HEIGHT,\n    {\n      x: PADDLE_STARTX,\n      y: view.canvas.height - PADDLE_HEIGHT - 5,\n    },\n    PADDLE_IMAGE,\n  )\n\n  gameLoop(view, bricks, ball, paddle, collision)\n}\n\n// Create a new view\nconst view = new CanvasView('#game-canvas');\nview.initStartButton(startGame)\n","// Types\nimport { Ball } from \"../sprites/Ball\";\nimport { Brick } from \"../sprites/Brick\";\nimport { Paddle } from \"../sprites/Paddle\";\n\nexport class CanvasView {\n  canvas: HTMLCanvasElement;\n  private context: CanvasRenderingContext2D | null;\n  private scoreDisplay: HTMLObjectElement | null;\n  private start: HTMLObjectElement | null;\n  private info: HTMLObjectElement | null;\n\n  constructor(canvasName: string) {\n    this.canvas = document.querySelector(canvasName) as HTMLCanvasElement;\n    this.context = this.canvas.getContext('2d');\n    this.scoreDisplay = document.querySelector('#score');\n    this.start = document.querySelector('#start');\n    this.info = document.querySelector('#info');\n  }\n\n  clear(): void {\n    this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  initStartButton(startFunction: (view: CanvasView) => void): void {\n    this.start?.addEventListener('click', () => startFunction(this))\n  }\n\n  drawScore(score: number): void {\n    if (this.scoreDisplay) this.scoreDisplay.innerHTML = score.toString();\n  }\n\n  drawInfo(text: string): void {\n    if (this.info) this.info.innerHTML = text;\n  }\n\n  drawSprite(brick: Brick | Paddle | Ball): void {\n    if (!brick) return;\n\n    this.context?.drawImage(\n      brick.image,\n      brick.pos.x,\n      brick.pos.y,\n      brick.width,\n      brick.height,\n    )\n  }\n\n  drawBricks(bricks: Brick[]): void {\n    bricks.forEach(brick => this.drawSprite(brick))\n  }\n}\n","import { Brick } from \"./sprites/Brick\";\n\nimport {\n  BRICK_IMAGES,\n  LEVEL,\n  STAGE_COLS,\n  STAGE_PADDING,\n  BRICK_WIDTH,\n  BRICK_HEIGHT,\n  BRICK_PADDING,\n  BRICK_ENERGY,\n} from './setup';\n\nexport function createBricks(): Brick[] {\n  return LEVEL.reduce((acc, element, i) => {\n    const row = Math.floor((i + 1) / STAGE_COLS);\n    const col = i % STAGE_COLS;\n\n    const x = STAGE_PADDING + col * (BRICK_WIDTH + BRICK_PADDING);\n    const y = STAGE_PADDING + row * (BRICK_HEIGHT + BRICK_PADDING );\n\n    if (element === 0) return acc;\n\n    return [\n      ...acc,\n      new Brick(\n        BRICK_WIDTH,\n        BRICK_HEIGHT,\n        { x, y },\n        BRICK_ENERGY[element], \n        BRICK_IMAGES[element],\n      )\n    ]\n  }, [] as Brick[])\n}"],"names":["$8b4d1930797b255e$export$6503ec6e8aabbaf","$8b4d1930797b255e$export$f7ad0328861e2f03","$8b4d1930797b255e$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$f29cd6c67ea13581$export$bdfd709ae4826697","$f29cd6c67ea13581$var$bundleURL","$f29cd6c67ea13581$var$getBaseURL","url","replace","value","err","matches","stack","match","$f29cd6c67ea13581$var$getBundleURL","parcelRequire","register","JSON","parse","$5725f4f91c2de04e$export$a83d7c3fa53790c9","speed","ballSize","position","image","this","ballImage","Image","x","y","src","width","height","pos","changeYDirection","changeXDirection","moveBall","$a3071f78fa53eabe$export$8b68b11806a145bb","paddleWidth","paddleHeight","PaddleImage","handleKeyUp","e","code","key","moveLeft","moveRight","handleKeyDown","document","addEventListener","isMovingLeft","isMovineRight","movePaddle","$dfb25bcc8041fb46$export$88c9f72b40fcdd85","checkBallCollision","ball","paddle","view","canvas","isCollidingBrick","brick","isCollidingBricks","bricks","colliding","forEach","energy","splice","$42b700700e73e3c1$exports","getBundleURL","resolve","$c2242995f979f55c$exports","$664f1b3f57238eba$exports","$93f26c6ee7dcf6b2$exports","$de9bfddae1f1214d$exports","$2caddff52a309f1b$exports","$4f8d4ceb3bac8671$exports","$fdfd11a6c5e41ed2$var$canvas","querySelector","$fdfd11a6c5e41ed2$export$b6b103a9564d8a89","Math","floor","$fdfd11a6c5e41ed2$export$5decdb53ff4af9a7","$fdfd11a6c5e41ed2$export$67f2d0fe4b29699","$fdfd11a6c5e41ed2$export$ac3384aa98035f9d","$parcel$interopDefault","$fdfd11a6c5e41ed2$export$960c0273512d9348","$fdfd11a6c5e41ed2$export$5391a00aef7012c6","$9b5963e8a2006234$export$d763173d10f54f27","brickWidth","brickHeight","brickEnergy","brickImage","console","log","$e04467055a32edce$var$gameOver","$e04467055a32edce$var$score","$e04467055a32edce$var$gameLoop","collision","clear","drawBricks","drawSprite","drawScore","drawInfo","$e04467055a32edce$var$setGameWin","$e04467055a32edce$var$setGameOver","requestAnimationFrame","canvasName","context","getContext","scoreDisplay","start","info","clearRect","initStartButton","startFunction","score","innerHTML","toString","text","drawImage","reduce","acc","element","row"],"version":3,"file":"index.2f05f87a.js.map"}